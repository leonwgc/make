(self.webpackChunkmake=self.webpackChunkmake||[]).push([[826],{7682:(e,t,n)=>{"use strict";var r=n(7294),a=n(3935),o=(n(2230),n(271)),l=n(1382),c=n(4378),i=n(2465),u=n(3727),s=n(5977),m=n(9439),p=n(2482),d=n(923),f=n(9509),v=n(1002),g=n(5026),y=function(e){var t=e;"object"===(0,v.Z)(e)&&e&&e.message&&(t=e.message),g.ZP.error(t)},b=function(e){g.ZP.success(e)},h=n(3565),E=n(1577);function Z(e){var t=e.text,n=void 0===t?"背景色":t,a=e.color,o=e.callback,l=e.placement,c=void 0===l?"right":l,i=(0,r.useState)(!1),u=(0,m.Z)(i,2),s=u[0],p=u[1];return r.createElement(E.Z,{className:"color-picker-btn",onClick:function(){return p(!0)}},r.createElement("i",{style:{background:a}}),n,s?r.createElement("div",{className:"placement ".concat(c)},r.createElement(h.xS,{color:a,onChangeComplete:function(e){return o(e.hex)}}),r.createElement("div",{className:"cover",onClick:function(e){e.stopPropagation(),p(!1)}})):null)}var O=n(6357),P="__make__tpl",w=function(){var e,t=(0,O.Yu)("localStorage",P);return e=t,0===Object.keys(e).length?[]:t.list},N=function(e){(0,O.a_)("localStorage",P,{list:e})},C="__page__",k=function(e){var t=e.name,n=e.comps,r=void 0===n?[]:n,a=e.bgColor,o=void 0===a?"":a;(0,O.a_)("localStorage",C,{name:t,bgColor:o,comps:r})},j=n(8146),S=n(2762),x=n(1716),D=n(8401);function T(){var e=(0,i.Ov)(),t=(0,i.u2)(),n=p.Z.useForm(),a=(0,m.Z)(n,1)[0],o=[{type:j.Z,label:"页面标题",placeholder:"请输入",name:"name",itemProps:{rules:[{required:!0,message:"请填写"}],initialValue:e.name}}];return r.createElement("div",{className:"make-header"},r.createElement(d.Z,{title:"重命名",visible:e.showRenameDlg,onCancel:function(){t({showRenameDlg:!1})},onOk:function(){return a.submit()},maskClosable:!1},r.createElement(p.Z,{form:a,onFinish:function(n){var r=n.name;e.name=r,k(e),t({showRenameDlg:!1}),b("保存成功")},layout:"horizontal"},r.createElement(f.Z,{layoutData:o}))),r.createElement("div",{className:"left-part"},"可视化编辑器"),r.createElement("div",{className:"center-part"},r.createElement("span",{className:"title gray"},"当前页面："),r.createElement("span",{className:"title"},e.name)),r.createElement("div",{className:"right-part"},r.createElement(S.Z,{size:12},r.createElement(x.Z,{icon:r.createElement(D.Z,{type:"uc-icon-edit"}),onClick:function(){return t({showRenameDlg:!0})}},"重命名"),r.createElement(Z,{color:e.bgColor,callback:function(n){e.bgColor=n,k(e),t()}}))))}var F=n(3433),I=n(7933),z=n(1474);function L(e){var t=e.iconName,n=void 0===t?"":t,a=e.label,o=void 0===a?"":a,l=e.type,c=e.deleteNode,i=void 0===c?null:c;return r.createElement("div",{className:"tpl-comp ".concat(l)},r.createElement(D.Z,{type:n}),r.createElement("div",{className:"label"},o),i)}function U(e){var t=e.components,n=void 0===t?[]:t,a=(0,r.useRef)(null);return(0,r.useEffect)((function(){var e=z.ZP.create(a.current,{sort:!1,group:{name:"cmp",pull:"clone"}});return function(){e.destroy()}}),[]),n.length?r.createElement("ul",{ref:a},n.map((function(e,t){return r.createElement("li",{key:t,"data-cid":e.cid,className:"cmp panel-cmp"},r.createElement(L,{label:e.name,iconName:e.icon}))}))):null}var G=n(7231);function _(e){var t=e.width,n=void 0===t?"100%":t,a=e.height,o=void 0===a?150:a;return r.createElement("div",{className:"img",style:{height:o,width:n,backgroundPosition:"center",backgroundSize:"48px 48px",backgroundRepeat:"no-repeat",fontSize:30,color:"#004bcc",display:"flex",justifyContent:"center",alignItems:"center"}},r.createElement(D.Z,{type:"uc-icon-tupian"}))}const A=n.p+"images/cat.e5c1c83a.jpg",V=n.p+"images/dog.c89310c1.jpg";var R=[{url:A},{url:V},{url:A},{url:V}];function M(e){var t=e.styleType,n=void 0===t?"card":t,a=e.bgColor,o=e.images,l=void 0===o?[].concat(R):o,c=e.hideMargin,i=void 0!==c&&c,u="card"===n?140:150,s=function(){return l.length?l.map((function(e,t){return r.createElement("div",{key:t},r.createElement("img",{height:u,width:"100%",draggable:!1,src:e.url}))})):r.createElement(_,{height:u})};return r.createElement("div",{style:{height:u,backgroundColor:a,position:"relative",marginBottom:"".concat(i?0:5,"px"),padding:"".concat("full"===n?"0 0":"0 12px")}},l.length>1?r.createElement(G.Z,{height:u,showPagination:l.length>1,loop:l.length>1,autoPlay:l.length>1,swipeable:!0,className:"ctl-carousel-banner"},s()):s())}function W(e){var t=e.images,n=void 0===t?[]:t,a=e.arrangeType,o=void 0===a?"image1":a,l=e.styleType,c=void 0===l?"card":l,i=e.hideMargin,u=void 0!==i&&i,s=e.bgColor,m=Number(o.slice(5,6)),p=m-n.length,d=(0,r.useRef)();return(0,r.useEffect)((function(){var e=d.current.children;if(3===m&&e.length){var t=function(){var t=(e[0].height-9)/2;"full"===c&&(t=e[0].height/2),e[1]&&(e[1].style.height=t+"px"),e[2]&&(e[2].style.height=t+"px")};t(),(0,F.Z)(e).forEach((function(e){e.onload=t}))}}),[m,n,c]),r.createElement("div",{className:"zfl-image ".concat(c," ").concat(o),style:{paddingBottom:"".concat(u?0:5,"px"),backgroundColor:s},ref:d},n.map((function(e,t){return null!=e&&e.url?r.createElement("img",{src:e.url,key:t,style:{visibility:e.url?"":"hidden"}}):r.createElement("img",{src:"//static.zuifuli.com/images/make/empty-pic.png"})})),p&&!n.length?r.createElement(_,null):null)}var B=n(7668);function H(e){var t=e.layoutMode,n=void 0===t?"big":t,a=e.textAlign,o=e.bgColor,l=e.fontWeight,c=e.showTitle,i=e.showDesc,u=e.showPrice,s=e.showOrigin,p=e.showBtn,d=e.btnStyle,f=e.btnColor,v=e.btnText,g=e.tabGroup,y=void 0===g?{}:g,b=e.productNum,h=void 0===b?[1]:b,E=y.exist,Z=void 0!==E&&E,O=y.theme,P=void 0===O?"light":O,w=y.tabs,N=void 0===w?[]:w,C=y.products,k=void 0===C?[]:C,j=(0,r.useState)(0),S=(0,m.Z)(j,2),x=S[0],D=S[1];(0,r.useEffect)((function(){Z||D(0)}),[Z]);var T=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0;r<e;r++)n[r]=t[r]?t[r]:{name:"这里显示商品名称，最多可展示两行。",desc:"这里显示商品描述，最多可展示一行。",salePrice:999};return n}(h[x],k[x]);return r.createElement("div",{className:"product-list ",style:{backgroundColor:o}},Z?r.createElement("div",{className:"tab-list ".concat(P)},r.createElement(B.Z,{scrollable:!0,value:x,onChange:D,lineWidth:50},N.map((function(e,t){return r.createElement(B.Z.Panel,{title:e,key:t})})))):null,r.createElement("div",{className:"list"},T.map((function(e,t){return r.createElement(q,{key:t,data:e,textAlign:a,layoutMode:n,fontWeight:l,showTitle:c,showDesc:i,showPrice:u,showOrigin:s,btnStyle:d,btnColor:f,btnText:v,showBtn:p})}))))}function q(e){var t=e.textAlign,n=e.fontWeight,a=e.showTitle,o=e.showDesc,l=e.showPrice,c=e.showOrigin,i=e.showBtn,u=e.btnStyle,s=e.btnColor,m=e.btnText,p=e.layoutMode,d=e.data,f=void 0===d?{}:d,v=(f.id,f.name),g=(f.skuH5Url,f.originPrice),y=f.salePrice,b=f.imageUrl,h=f.desc,E=void 0===h?"":h;return r.createElement("div",{className:"product ".concat(p," ").concat(t)},b?r.createElement("img",{src:b}):r.createElement(_,{height:"big"===p?351:130,width:"big"===p?351:130}),r.createElement("div",{className:"content"},r.createElement("div",{className:"text"},a?r.createElement("div",{className:"title ".concat(n)},v):null,o?r.createElement("div",{className:"desc"},E):null),r.createElement("div",{className:"buy"},"simple"!==p&&r.createElement("div",{className:"price"},l?r.createElement("span",{className:"current"},r.createElement("span",{className:"num"},y),"积分"):null,c&&g?r.createElement("span",{className:"original"},"原价",g):null),i?r.createElement("div",{className:"btn".concat(u),style:2===u?{color:s,borderColor:s}:{background:s}},3!==u?m:r.createElement(D.Z,{type:"iconshopping_trolley_filled_regular",style:{color:"#fff"}})):null)))}function J(e){var t=e.arrangeType,n=e.bgColor,a=e.fontWeight,o=e.showTitle,l=e.showPrice,c=e.showOrigin,i=e.showBtn,u=e.btnStyle,s=e.btnColor,p=e.btnText,d=e.tabGroup,f=void 0===d?{}:d,v=e.productNum,g=void 0===v?[1]:v,y=(e.inStage,"p3"===t),b=f.exist,h=void 0!==b&&b,E=f.theme,Z=void 0===E?"light":E,O=f.tabs,P=void 0===O?[]:O,w=f.products,N=void 0===w?[]:w,C=(0,r.useState)(0),k=(0,m.Z)(C,2),j=k[0],S=k[1],x=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0;r<e;r++)n[r]=t[r]?t[r]:{name:"这里显示商品名称，最多可展示两行。",desc:"这里显示商品描述，最多可展示一行。",salePrice:999};return n}(g[j],N[j]);return(0,r.useEffect)((function(){h||S(0)}),[h]),r.createElement("div",{className:"productMc-list",style:{backgroundColor:n}},h?r.createElement("div",{className:"tab-list ".concat(Z)},r.createElement(B.Z,{scrollable:!0,value:j,onChange:S,lineWidth:50},P.map((function(e,t){return r.createElement(B.Z.Panel,{title:e,key:t})})))):null,r.createElement("div",{className:"".concat(t)},x.map((function(e,t){return r.createElement(K,{key:t,data:e,isP3:y,fontWeight:a,showTitle:o,showPrice:l,showOrigin:c,btnStyle:u,btnColor:s,btnText:p,showBtn:i})}))))}function K(e){var t=e.isP3,n=e.fontWeight,a=e.showTitle,o=e.showPrice,l=e.showOrigin,c=e.showBtn,i=e.btnStyle,u=e.btnColor,s=e.btnText,m=e.data,p=void 0===m?{}:m,d=(p.id,p.name),f=(p.skuH5Url,p.originPrice),v=p.salePrice,g=p.imageUrl;return r.createElement("div",{className:"product"},g?r.createElement("img",{src:g}):r.createElement(_,{height:t?113:171}),r.createElement("div",{className:"content"},a?r.createElement("div",{className:"title ".concat(n)},d):null,r.createElement("div",{className:"buy"},r.createElement("div",{className:"price"},o?r.createElement("div",{className:"current"},r.createElement("span",{className:"num"},v),"积分"):null,l&&f?r.createElement("span",{className:"original"},"原价",f):null),c?t?r.createElement("div",{className:"btn3",style:{background:u}},r.createElement(D.Z,{type:"iconshopping_trolley_filled_regular",style:{color:"#fff"}})):r.createElement("div",{className:"btn".concat(i),style:2===i?{color:u,borderColor:u}:{background:u}},3!==i?s:r.createElement(D.Z,{type:"iconshopping_trolley_filled_regular",style:{color:"#fff"}})):null)))}function Q(e){var t=e.bgColor,n=e.textAlign,a=e.fontWeight,o=e.showTitle,l=e.showPrice,c=e.showOrigin,i=e.productNum,u=void 0===i?4:i,s=e.tabGroup,m=void 0===s?{products:[]}:s,p=e.inStage,d=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0;r<e;r++)n[r]=t[r]?t[r]:{name:"这里显示商品名称，最多可展示两行。",desc:"这里显示商品描述，最多可展示一行。",salePrice:999};return n}(u,null==m?void 0:m.products[0]);return r.createElement("div",{className:"productSl-list",style:{backgroundColor:t}},d.map((function(e,t){return!p&&e.id||p?r.createElement($,{key:t,data:e,textAlign:n,fontWeight:a,showTitle:o,showPrice:l,showOrigin:c}):null})))}function $(e){var t=e.textAlign,n=e.fontWeight,a=e.showTitle,o=e.showPrice,l=e.showOrigin,c=e.data,i=void 0===c?{}:c,u=(i.id,i.name),s=(i.skuH5Url,i.originPrice),m=i.salePrice,p=i.imageUrl;return r.createElement("div",{className:"product ".concat(t)},p?r.createElement("img",{src:p}):r.createElement(_,{height:96}),r.createElement("div",{className:"content"},a?r.createElement("div",{className:"title ".concat(n)},u):null,r.createElement("div",{className:"price"},o?r.createElement("div",{className:"current"},r.createElement("span",{className:"num"},m),"积分"):null,l&&s?r.createElement("span",{className:"original"},"原价",s):null)))}function Y(e){var t=e.height,n=void 0===t?10:t;return r.createElement("div",{"arial-role":"间隔",style:{height:n}})}var X=n(4942),ee=n(7049),te=n(9676),ne=n(6132),re=n(7462),ae=n(5861),oe=n(5987),le=n(7757),ce=n.n(le),ie=n(4025),ue=["fileList","onFileListChange","data","action","children","showUploadList"];function se(e){return new Promise((function(t,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return n(e)}}))}function me(e){var t=e.fileList,n=void 0===t?[]:t,a=e.onFileListChange,o=e.data,l=e.action,c=e.children,i=e.showUploadList,u=void 0!==i&&i,s=(0,oe.Z)(e,ue),p=(0,r.useState)(!1),f=(0,m.Z)(p,2),v=f[0],g=f[1],y=(0,r.useState)(""),b=(0,m.Z)(y,2),h=b[0],E=b[1],Z=function(){var e=(0,ae.Z)(ce().mark((function e(t){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.url||t.preview){e.next=4;break}return e.next=3,se(t.originFileObj);case 3:t.preview=e.sent;case 4:E(t.url||t.preview);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.createElement(r.Fragment,null,r.createElement(ie.Z,(0,re.Z)({data:o,action:l,withCredentials:!0,listType:"picture-card",showUploadList:u,onChange:function(e){var t=e.fileList,n=e.file;a(t),"uploading"===n.status?g(!0):g(!1)},onPreview:Z,multiple:!1,fileList:n},s),c(v,n)),r.createElement(d.Z,{visible:h,title:null,footer:null,onCancel:function(){return E("")}},r.createElement("img",{alt:"preview-image",style:{width:"100%"},src:h})))}function pe(e){var t=e.selectedComponent,n=void 0===t?{}:t,a=e.updateStore,o=e.prop,l=void 0===o?"bgColor":o,c=e.label,i=void 0===c?"自定义背景色":c,u=e.placement,s=void 0===u?"top":u,p=e.defaultColor,d=void 0===p?"#f7f7f7":p,f=n.props[l],v=(0,r.useState)(!!f),g=(0,m.Z)(v,2),y=g[0],b=g[1],E=(0,r.useState)(!1),Z=(0,m.Z)(E,2),O=Z[0],P=Z[1];return r.createElement("div",{className:"color-picker"},r.createElement(te.Z,{checked:y,onChange:function(e){var t=e.target.checked;n.props[l]=t?d:"",a(),b(t)}},i),y?r.createElement("div",{className:"btn",style:{background:f},onClick:function(){return P(!0)}},O?r.createElement("div",{className:"".concat(s)},r.createElement(h.xS,{color:f,onChangeComplete:function(e){n.props[l]=e.hex,a()}}),r.createElement("div",{className:"cover",onClick:function(e){e.stopPropagation(),P(!1)}})):null):null)}var de=n(5513);function fe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ve(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ge(){return(0,de.x0)(12)}function ye(e,t){var n=new FileReader;n.addEventListener("load",(function(){return t(n.result)})),n.readAsDataURL(e)}var be=function(e){for(var t={},n="",r=0,a=Object.keys(e);r<a.length;r++){var o=a[r],l=e[o].elProps,c=(void 0===l?{}:l).defaultValue;n="function"==typeof c?c():c,t[o]=n}return t},he=function(e){return Array.isArray(e)?e.map((function(e){return{label:e,value:e}})):[]},Ee=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[],r=fe(t);try{var a=function(){var t=e.value;n.some((function(e){return e.id===t.id}))||n.push(t)};for(r.s();!(e=r.n()).done;)a()}catch(e){r.e(e)}finally{r.f()}return n},Ze=n(3243);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){(0,X.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var we={image1:{name:"一行一个",number:1},image2:{name:"一行二个",number:2},image3:{name:"左一右二",number:3},image31:{name:"左二右一",number:3},image4:{name:"一行四个",number:4}};function Ne(e){var t=e.label,n=e.tip,a=void 0===n?"":n,o=e.index,l=e.updateStore,c=e.selectedComponent,i=c.props.images,u=void 0===i?[]:i,s=u[o]||{},m=s.url,p=s.link,d=[];return m&&(d=[{uid:-1,url:m}]),r.createElement("div",{className:"image-upload"},r.createElement("div",{className:"l"},r.createElement(me,{fileList:d,showUploadList:!0,accept:"image/*",onChange:function(e){e.file.originFileObj?ye(e.file.originFileObj,(function(e){u[o]=Pe(Pe({},u[o]),{},{url:e}),c.props.images=(0,F.Z)(u),l()})):(u[o]=void 0,c.props.images=(0,F.Z)(u),l())}},(function(e,t){return 1==t.length?null:r.createElement("div",{style:{fontSize:20,color:"#909399"}},e?r.createElement(Ze.Z,null):r.createElement(D.Z,{type:"uc-icon-jia2"}))}))),r.createElement("div",{className:"r"},r.createElement("div",{className:"text"},t," ",r.createElement("span",{className:"tip"},a)),r.createElement("div",null,r.createElement(ne.Z,{placeholder:"输入跳转详情链接",value:p,onChange:function(e){u[o]=Pe(Pe({},u[o]),{},{link:e.target.value}),c.props.images=(0,F.Z)(u),l()}}))))}var Ce=n(3667);const ke={props:{},style:{display:{label:"容器类型",type:Ce.Z,elProps:{defaultValue:"block",options:he(["block","flex","inline-block","inline-flex"])}},justifyContent:{label:"水平排列方式",tip:"水平排列方式",type:Ce.Z,elProps:{options:he(["center","start","end","space-between","space-around","space-evenly","stretch"])},itemProps:{help:"容器类型为flex/inline-flex生效"}},alignItems:{label:"垂直排列方式",tip:"垂直排列方式",type:Ce.Z,elProps:{options:he(["center","start","end","space-between","space-around","space-evenly","stretch"])},itemProps:{help:"容器类型为flex/inline-flex生效"}},flexDirection:{label:"flex方向",tip:"flex方向",type:Ce.Z,elProps:{options:he(["row","column"])},itemProps:{help:"容器类型为flex/inline-flex生效"}},margin:{label:"外边局",type:ne.Z,elProps:{placeholder:"margin"}},padding:{label:"内边距",type:ne.Z,elProps:{placeholder:"padding"}},width:{label:"宽度",type:ne.Z,elProps:{placeholder:"100%"},itemProps:{help:"百分比或px"}},height:{label:"高度",type:ne.Z,itemProps:{help:"百分比或px"}},minHeight:{label:"最小高度",type:ne.Z,elProps:{defaultValue:"160px"}}}};function je(){var e=(0,i.Ov)(),t=(0,r.useState)(null),n=(0,m.Z)(t,2),a=n[0],o=n[1];return(0,r.useEffect)((function(){if(e.activeComp)try{o(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return null;var n=t.find((function(t){return t.id===e}));if(!n)for(var r,a=t.filter((function(e){return"Flex"===e.cid})),o=0;o<a.length;o++){if((r=a[o]).id===e){n=r;break}if(n=r.comps.find((function(t){return t.id===e})))break;var l=r.comps.filter((function(e){return"Flex"===e.cid}));a=a.concat(l)}return n}(e.activeComp,e.comps))}catch(e){o(null)}else o(null)}),[e.activeComp]),a}var Se=n(5979);function xe(e){var t=e.title,n=je(),a=(0,i.u2)();if(!n)return null;var o=n.props.images||[];return r.createElement("div",{className:"image-input"},r.createElement("div",null,t),r.createElement(me,{accept:"image/*",onChange:function(e){e.file.originFileObj&&ye(e.file.originFileObj,(function(e){o.push({url:e,link:""}),n.props.images=(0,F.Z)(o),a()}))}},(function(e,t){return 1==t.length?null:r.createElement("div",{style:{fontSize:20,color:"#909399"}},e?r.createElement(Ze.Z,null):r.createElement(D.Z,{type:"uc-icon-jia2"}))})),r.createElement(Se.Z,{className:"image-show-list",dataList:o,dataRender:function(e){return r.createElement("div",{className:"image-show",title:"拖动图片排序",key:e._key},r.createElement("div",{className:"l",style:{backgroundImage:"url(".concat(e.url,")")}}),r.createElement("div",{className:"r"},r.createElement("div",{className:"text"},"图片",r.createElement("span",{className:"delete",onClick:function(){n.props.images=o.filter((function(t){return t._key!=e._key})),a()}},"删除")),r.createElement("div",null,r.createElement(j.Z,{placeholder:"输入跳转详情链接",value:e.link,onChange:function(t){e.link=t,a()}}))))},onSort:function(e){n.props.images=(0,F.Z)(e),a()}}))}function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){(0,X.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Fe={props:{height:{label:"间隔高度",type:I.ZP.Group,elProps:{options:[{label:"小",value:10},{label:"中",value:20},{label:"大",value:30}],defaultValue:10}}}};function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){(0,X.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Le=n(2028);function Ue(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=r.createElement("div",{className:"switch-label"},e,o?r.createElement("span",{className:"tip"},n.props[t]?"显示":"隐藏"):null);return a&&{label:l,name:t,type:Le.Z,elProps:{style:{float:"right",marginTop:-10},size:"small"},itemProps:{valuePropName:"checked",colon:!1}}}function Ge(e){var t=e.type,n=e.setType,a=e.tabs,o=void 0===a?[]:a;return r.createElement("div",{className:"my-tab"},o.map((function(e){var a=e.key;return r.createElement("div",{key:a,className:"name ".concat(t==a?"active":""),onClick:function(){n(a)}},e.name)})))}var _e=n(7279),Ae=n(5241),Ve=n(4277),Re=n(606),Me={prd:"",test:"t-",pre:"u-"};function We(){return Me[function(){if("undefined"==typeof document)return"node";var e="prd",t=location.hostname;return/^(t-|localhost|test)/.test(t)?e="test":/^(u-|uat)/.test(t)&&(e="pre"),e}()]}var Be=function(){return-1==location.hostname.indexOf("domain.com")?"":"//".concat(We(),"api.domain.com")},He=n(7104);n(129);var qe=function(e){return new Promise((function(t,n){var r=Number(e.code);if(110004!==r&&130003!==r)return r?n(e):void t(e);window.location.href="//".concat(loginRedirectUrl,"?logoUrl=").concat(logoUrl,"&redirectUrl=").concat(encodeURIComponent(window.location.href))}))},Je=n(3805);function Ke(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return(0,He.ZP)({method:e,url:t,data:n,headers:r}).then(qe).catch((function(e){throw a&&Je.Z.show(JSON.stringify(e)),e}))}var Qe=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return Ke("get","".concat(Be()).concat(e),t,n,r)},$e=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return Ke("post","".concat(Be()).concat(e),t,n,r)},Ye=function(e){return new Promise((function(t,n){e?t(e):n({message:"服务未返回",code:1})})).then(qe)},Xe=n(9650);function et(e,t){(0,r.useEffect)((function(){if(e.current){var n=z.ZP.create(e.current,t);return function(){n.destroy()}}}),[t])}var tt=n(7085),nt=n(9101);function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){(0,X.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ot(e){var t=e.selectedComponent,n=e.updateStore,a=e.productsIndex,o=void 0===a?0:a,l=t.props.tabGroup,c=(void 0===l?{}:l).products,i=void 0===c?[]:c,u=(0,r.useState)(!1),s=(0,m.Z)(u,2),v=s[0],g=s[1],y=p.Z.useForm(),b=(0,m.Z)(y,1)[0],h=(0,r.useState)({}),E=(0,m.Z)(h,2),Z=E[0],O=E[1],P=(0,r.useRef)();et(P,{store:{set:function(e){var r=e.toArray(),a=i.slice();a[o].sort((function(e,t){var n,a;return r.indexOf(null===(n=e.id)||void 0===n?void 0:n.toString())-r.indexOf(null===(a=t.id)||void 0===a?void 0:a.toString())})),t.props.tabGroup.products=(0,F.Z)(a),n()}},onSort:function(e){}});var w,N=function(e){O(e),g(!0),b.resetFields(),b.setFieldsValue(e)},C=i[o]||[];return C.length?r.createElement("div",{ref:P,className:"s-product-list"},C.map((function(e,a){return r.createElement(lt,{key:e.id,data:e,index:a,productsIndex:o,selectedComponent:t,updateStore:n,edit:N})})),r.createElement(d.Z,{width:640,visible:v,maskClosable:!1,onCancel:function(){g(!1)},onOk:function(){return b.submit()},className:"product-list-edit-modal"},r.createElement(p.Z,{form:b,onFinish:function(e){t.props.tabGroup.products[o][Z.index]=at(at({},Z),e),n(),g(!1)},layout:"horizontal",colon:!1,labelCol:{span:4},wrapperCol:{span:19}},r.createElement(f.Z,{layoutData:(w=Z.index,[{render:function(){return r.createElement("h3",{style:{marginBottom:25}},"商品",w+1)}},{type:ct,label:"商品图",name:"imageUrl",rules:[{required:!0,message:"请上传商品图片"}]},{type:ne.Z,label:"商品名称",placeholder:"请输",name:"name",elProps:{},itemProps:{rules:[{required:!0,message:"请输入"}]}},{type:ne.Z,label:"描述",name:"desc",elProps:{},itemProps:{}},{type:ne.Z,label:"详情链接",name:"skuH5Url",elProps:{},itemProps:{rules:[{required:!0,message:"请输入"}]}},{type:ne.Z,label:"售价",name:"salePrice",elProps:{disabled:!0,addonAfter:"积分"},itemProps:{}},{type:ne.Z,label:"原价",name:"originPrice",elProps:{addonAfter:"积分",disabled:!0}}])})))):null}function lt(e){var t=e.data,n=e.index,a=e.productsIndex,o=e.selectedComponent,l=e.updateStore,c=e.edit;return r.createElement("div",{className:"s-product-item","data-id":+t.id},r.createElement("div",{className:"top"},r.createElement("div",{className:"index"},"商品",n+1),r.createElement("div",null,r.createElement(Xe.Z,null,r.createElement("a",{onClick:function(){return c(at({index:n},t))}},"编辑"),r.createElement("a",{onClick:function(){o.props.tabGroup.products[a].splice(n,1),l(),g.ZP.success("商品已删除")}},"删除")))),r.createElement("div",{className:"detail"},r.createElement("div",{className:"pic"},r.createElement("img",{src:t.imageUrl})),r.createElement("div",{className:"info"},r.createElement("div",{className:"name",title:t.name},t.name),r.createElement("div",{className:"desc"},t.desc),r.createElement("div",{className:"price"},t.salePrice&&r.createElement("span",null,t.salePrice,"积分"),t.originPrice&&r.createElement("span",null,"原价:",t.originPrice)))))}function ct(e){var t=e.value,n=e.onChange,a=(0,r.useState)(t),o=(0,m.Z)(a,2),l=o[0],c=o[1];(0,r.useEffect)((function(){t&&c(t)}),[t]);var i=[];return l&&(i=[{uid:-1,url:l}]),r.createElement(me,{data:{storeType:"I",type:"29",creator:"system"},action:"https://".concat(We(),"api.xxx.com/api/customer/v2/attach/upload4NoLogin"),fileList:i,showUploadList:!0,accept:"image/*",onFileListChange:function(e){var t=e.length?e[e.length-1].url:"";c(t),null==n||n(t)}},(function(e,t){return 1==t.length?null:r.createElement("div",{style:{fontSize:20,color:"#909399"}},e?r.createElement(tt.Z,null):r.createElement(nt.Z,null))}))}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ut=_e.Z.Panel,st=/[，,\n]/;function mt(e){var t=e.selectedComponent,n=e.updateStore,a=t.props,o=a.tabGroup,l=void 0===o?{}:o,c=(a.id,a.cid,l.exist),i=void 0!==c&&c,u=p.Z.useForm(),s=(0,m.Z)(u,1)[0],v=p.Z.useForm(),b=(0,m.Z)(v,1)[0],h=(0,r.useState)(0),E=(0,m.Z)(h,2),Z=E[0],O=E[1],P=(0,r.useState)([]),w=(0,m.Z)(P,2),N=w[0],C=w[1],k=(0,r.useState)(!1),j=(0,m.Z)(k,2),S=j[0],x=j[1],T=(0,r.useState)(!1),F=(0,m.Z)(T,2),z=F[0],L=F[1],U=(0,r.useState)(!1),G=(0,m.Z)(U,2),_=G[0],A=G[1],V=(0,r.useRef)(),R=(0,r.useState)([]),M=(0,m.Z)(R,2),W=M[0],B=M[1],H=(0,r.useState)(1),q=(0,m.Z)(H,2),J=q[0],K=q[1],Q=(0,r.useState)(0),$=(0,m.Z)(Q,2),Y=$[0],ee=$[1],te=(0,r.useState)(""),re=(0,m.Z)(te,2),ae=re[0],oe=re[1],le=(0,r.useState)(!1),ce=(0,m.Z)(le,2),ie=ce[0],ue=ce[1],se=(0,r.useState)({}),me=(0,m.Z)(se,2),pe=me[0],de=me[1],fe="Product"===t.cid;(0,r.useEffect)((function(){Qe("/api/mall/v1/malls").then(Ye).then((function(e){var t=e.result;C(t.map((function(e){return{label:e.name,value:e.code}})))}))}),[]),(0,r.useEffect)((function(){var e;(e={pageSize:8,currentPage:J,param:{order:"desc",type:"挑选商品"}},$e("/api/mall/v1/mallSystemConfig/do/page/turning",e)).then((function(e){var t=e.result;ee(t.totalItem),B(t.resultList||[])}))}),[J]);var ve,ge,ye,be=[{render:function(){return r.createElement("div",{className:"product-modal-title"},"请输入SKU，导入商品")}},{type:I.ZP.Group,label:"",name:"mallType",elProps:{options:N},itemProps:{rules:[{required:!0,message:"请选择"}]}},{type:ne.Z.TextArea,allowClear:!0,label:"",placeholder:"请输入，多个sku逗号或换行符隔开",name:"skuid",elProps:{autoSize:{minRows:10,maxRows:23}},itemProps:{rules:[{required:!0,message:"请输入"}]}}],he=[{render:function(){return r.createElement("div",{className:"product-modal-title"},"请输入活动编号，导入商品")}},{type:ne.Z,label:"活动编号",name:"activityCode",placeholder:"请输入活动编号",itemProps:{rules:[{required:!0,message:"请输入活动编号"}]}}],Ze=function(e){t.props.tabGroup.products[e]=[],n(),g.ZP.success("商品已删除")};return r.createElement("div",{className:"product-manage-setting"},i?function(){var e=l.tabs,a=void 0===e?[]:e,o=l.products,c=void 0===o?[]:o;return r.createElement(_e.Z,{defaultActiveKey:["0"],ghost:!0,expandIcon:function(e){var t=e.isActive;return r.createElement(D.Z,{type:t?"iconarrow_down_filled_regular":"iconarrow_right_filled_regular",style:{color:"#8c8c8c"}})}},null==a?void 0:a.map((function(e,a){var o,l;return r.createElement(ut,{header:r.createElement("div",{className:"more"},"".concat(e,"（").concat((null===(o=c[a])||void 0===o?void 0:o.length)||0,"）"),r.createElement(Ae.Z,{overlayClassName:"product-manage-popover",overlayStyle:{width:150},placement:"bottomRight",visible:!!pe[a],onVisibleChange:function(e){return de((0,X.Z)({},a,e))},content:r.createElement("div",{onClick:function(e){return e.stopPropagation()}},r.createElement("div",{className:"title"},"导入商品"),r.createElement("div",{className:"content-item",onClick:function(){x(!0),s.resetFields(),de(!1)}},r.createElement("span",null,"输入SKU"),r.createElement(D.Z,{type:"iconSKU",className:"icon"})),r.createElement("div",{className:"content-item",onClick:function(){L(!0),de(!1)}},r.createElement("span",null,"选择商品库"),r.createElement(D.Z,{type:"iconshangpinku",className:"icon"})),fe&&r.createElement("div",{className:"content-item",onClick:function(){A(!0),b.resetFields(),de(!1)}},r.createElement("span",null,"活动编码"),r.createElement(D.Z,{type:"iconyuechi",className:"icon"})),r.createElement("div",{className:"line"}),r.createElement("div",{className:"clear",onClick:function(){return Ze(a)}},"清空本组商品")),trigger:"click",onClick:function(e){O(a),e.stopPropagation()}},r.createElement(D.Z,{type:"iconmore_filled_regular2",className:"dot-icon"}))),key:a},(null===(l=c[a])||void 0===l?void 0:l.length)>0?r.createElement(ot,{updateStore:n,selectedComponent:t,productsIndex:a}):r.createElement("p",{className:"empty-tips"},"点击右侧“ icon ”添加商品"))})))}():(ye=(null===(ve=t.props.tabGroup)||void 0===ve||null===(ge=ve.products[0])||void 0===ge?void 0:ge.length)||0,r.createElement("div",{className:"products-wrap"},r.createElement("div",{className:"one"},r.createElement("div",{className:"btn",onClick:function(){s.resetFields(),x(!0)}},r.createElement(D.Z,{type:"iconSKU",className:"icon"}),"输入SKU"),r.createElement("div",{className:"btn",onClick:function(){return L(!0)}},r.createElement(D.Z,{type:"iconshangpinku",className:"icon"}),"选择商品库"),fe&&r.createElement("div",{className:"btn",onClick:function(){return A(!0)}},r.createElement(D.Z,{type:"iconyuechi",className:"icon"}),"活动编码")),ye>0?r.createElement(r.Fragment,null,r.createElement("div",{className:"counter"},r.createElement("div",{className:"left"},"已导入",ye,"个商品"),r.createElement("a",{onClick:function(){return Ze(0)}},"清空商品")),r.createElement(ot,{updateStore:n,selectedComponent:t,productsIndex:0})):null)),r.createElement(d.Z,{maskClosable:!1,width:560,title:"",visible:S,confirmLoading:ie,okText:ie?"导入中":"确定",onCancel:function(){x(!1)},onOk:function(){return s.submit()},bodyStyle:{paddingBottom:0}},r.createElement(p.Z,{form:s,onFinish:function(e){var r,a=e.mallType,o=e.skuid.split(st).map((function(e){return e.trim()})),c=[],i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return it(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?it(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}(o);try{for(i.s();!(r=i.n()).done;){var u=r.value;c.push({mallType:a,skuId:u})}}catch(e){i.e(e)}finally{i.f()}ue(!0),function(e){return $e("/api/mall/v1/search/sku/allChannel",e).then(Ye)}({pageSize:200,mallSkus:c,busChannel:"JI_CAI"}).then((function(e){var r=e.result,a=(void 0===r?{}:r).resultList,o=void 0===a?[]:a,i=c.length,u=o.length;u?c.length===u?g.ZP.success("已导入".concat(u,"个商品")):g.ZP.warning("已导入".concat(u,"个商品，").concat(i-u,"个商品不匹配")):g.ZP.warning("无匹配商品");var s=o.map((function(e){return{id:e.id,name:e.name,skuH5Url:e.skuH5Url,originPrice:e.originPrice,salePrice:e.salePrice,imageUrl:e.imageUrl,mallType:e.mallType}}));t.props.tabGroup.products=t.props.tabGroup.products||[];var m=l.products[Z]||[],p=Ee(m.concat(s));t.props.tabGroup.products[Z]=p,n(),x(!1),ue(!1)})).catch((function(e){y(e),ue(!1)}))},layout:"horizontal"},r.createElement(f.Z,{layoutData:be}))),r.createElement(d.Z,{width:560,maskClosable:!1,title:"",visible:z,confirmLoading:ie,okText:ie?"导入中":"确定",onCancel:function(){L(!1)},onOk:function(){var e;ae?(ue(!0),(e=ae,Qe("/api/mall/v1/cms/sku/ALL",{hasStock:!0,code:e,type:"挑选商品",busChannel:"JI_CAI"})).then((function(e){var r,a=e.result;if(null!==(r=a.resultList)&&void 0!==r&&r.length){var o=a.resultList.map((function(e){return{id:e.id,name:e.name,skuH5Url:e.skuH5Url,originPrice:e.originPrice,salePrice:e.salePrice,imageUrl:e.imageUrl,mallType:e.mallType}}));t.props.tabGroup.products=t.props.tabGroup.products||[];var c=l.products[Z]||[],i=Ee(c.concat(o));t.props.tabGroup.products[Z]=i,g.ZP.success("已导入".concat(i.length-c.length,"个商品"))}else g.ZP.warning("无匹配商品");n(),L(!1),ue(!1)})).catch((function(e){y(e),ue(!1)}))):y("请选择")}},r.createElement("div",{style:{height:460,position:"relative"}},r.createElement("div",{className:"product-modal-title"},"请选择商品库，导入商品"),r.createElement("div",{className:"rule-list",ref:V},Y>0?W.map((function(e){return r.createElement("div",{className:"rule-item ".concat(e.nid===ae?"active":""),key:e.nid,onClick:function(){return oe(e.nid)}},e.name," ",e.nid)})):r.createElement(Ve.Z,{image:Ve.Z.PRESENTED_IMAGE_SIMPLE,style:{marginTop:100}})),Y>0?r.createElement("div",{className:"pagination",style:{position:"absolute",bottom:0,right:0}},r.createElement(Re.Z,{current:J,onChange:K,pageSize:8,total:Y})):null)),r.createElement(d.Z,{maskClosable:!1,width:560,title:"",visible:_,confirmLoading:ie,okText:ie?"导入中":"确定",onCancel:function(){A(!1)},onOk:function(){return b.submit()},centered:!0},r.createElement(p.Z,{form:b,onFinish:function(e){var r,a=e.activityCode;ue(!0),(r=a,Qe("/api/promotion/v1/coupon/admin/activity/".concat(r,"/sku")).then(Ye)).then((function(e){var r=e.result,o=void 0===r?[]:r,c=o.length;if(c){g.ZP.success("已导入".concat(c,"个商品"));var i=o.map((function(e){return{id:e.skuId,name:e.name,skuH5Url:" https://".concat(We(),"h5.xxx.com/store/couponExchange/").concat(a,"/").concat(e.skuId),imageUrl:e.imageUrl,mallType:e.mall,type:"coupon"}}));t.props.tabGroup.products=t.props.tabGroup.products||[],t.props.tabGroup.products[Z]=(l.products[Z]||[]).concat(i),t.props.tabGroup.products[Z]=Ee(t.props.tabGroup.products[Z]),n(),A(!1)}else g.ZP.warning("无匹配商品");ue(!1)})).catch((function(e){y(e),ue(!1)}))},layout:"horizontal"},r.createElement(f.Z,{layoutData:he}))))}var pt=[{label:"亮色模式",value:"light"},{label:"暗色模式",value:"dark"}];function dt(e){var t=e.selectedComponent,n=e.updateStore,a=(null==t?void 0:t.props).tabGroup,o=void 0===a?{}:a,l=o.tabs,c=void 0===l?[]:l,i=o.products,u=void 0===i?[]:i,s=function(e,n){var r,a=t.props,o=a.productNum,l=a.tabGroup,c=null===(r=(void 0===l?[]:l).tabs)||void 0===r?void 0:r.map((function(e){return n}));return c[0]=o[0],e||(c=c.slice(0,1)),c};return r.createElement("div",{className:"tab-group-container"},r.createElement("div",{className:"s1 group-name"},r.createElement("span",null,"Tab分组"),r.createElement(Le.Z,{checked:o.exist,onChange:function(e){var r=[1],a=t.props.arrangeType;a?"p2"===a?r=s(e,2):"p3"===a&&(r=s(e,3)):r=s(e,1),t.props.productNum=r,t.props.tabGroup.exist=e,n()},size:"small"})),o.exist?r.createElement("div",{className:"group-content"},r.createElement(I.ZP.Group,{value:o.theme,options:pt,onChange:function(e){t.props.tabGroup.theme=e.target.value,n()}}),r.createElement("a",{onClick:function(){var e=[].concat((0,F.Z)(c),["分组".concat(c.length+1)]);t.props.tabGroup.tabs=e,t.props.productNum=[].concat((0,F.Z)(t.props.productNum),[1]),n()}},"新增分组"),c.map((function(e,a){return r.createElement("div",{className:"tab-item",key:a},r.createElement(ne.Z,{value:e,onChange:function(e){return function(e,r){var a=c.slice();a.splice(r,1,e),t.props.tabGroup.tabs=a,n()}(e.target.value,a)},maxLength:5}),r.createElement("a",{onClick:function(){return function(e){var r=c.slice(),a=u.slice(),o=t.props.productNum.slice();r.splice(e,1),a.splice(e,1),o.splice(e,1),t.props.tabGroup.tabs=r,t.props.tabGroup.products=a,t.props.productNum=o,n()}(a)},disabled:c.length<=2},"删除"))}))):null)}var ft=n(8835);function vt(e){var t,n,a,o=e.selectedComponent,l=e.updateStore,c=o.props.productNum,i=void 0===c?[1]:c,u=function(e,t){var n=(0,F.Z)(i);n[t]=e,o.props.productNum=n,l()};return r.createElement("div",{className:"product-num-container"},r.createElement("div",{className:"group-name"},r.createElement("span",null,"显示商品个数"),null!==(t=o.props.tabGroup)&&void 0!==t&&t.exist?null===(n=o.props.tabGroup)||void 0===n||null===(a=n.tabs)||void 0===a?void 0:a.map((function(e,t){return r.createElement("div",{className:"num-item",key:t},e,r.createElement(ft.Z,{value:i[t]||1,onChange:function(e){return u(e,t)},min:1,max:999}))})):r.createElement(ft.Z,{value:i[0],onChange:function(e){return u(e,0)},min:1,max:999})))}function gt(e){var t=e.selectedComponent,n=e.updateStore,a=function(e,r){t.props[e]=r,n()},o="p3"===t.props.arrangeType;return r.createElement("div",{className:"buy-btn"},o?null:r.createElement(I.ZP.Group,{value:t.props.btnStyle,options:[{label:"样式一",value:1},{label:"样式二",value:2},{label:"样式三",value:3}],onChange:function(e){return a("btnStyle",e.target.value)}}),o?null:r.createElement(ne.Z,{value:t.props.btnText,style:{width:100,marginRight:8},onChange:function(e){return a("btnText",e.target.value)},disabled:3===t.props.btnStyle,maxLength:5}),r.createElement(Z,{color:t.props.btnColor,callback:function(e){return a("btnColor",e)},placement:o?"top left":"top center",text:"按钮色"}))}var yt=n(6486);function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){(0,X.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Et=[{label:r.createElement(D.Z,{type:"iconshangpin-yihangyige-datu"}),value:"big",title:"大图模式"},{label:r.createElement(D.Z,{type:"iconshangpin-yihangyige-mingxi"}),value:"small",title:"明细列表"},{label:r.createElement(D.Z,{type:"iconshangpin-yihangyige-jijian"}),value:"simple",title:"极简列表"}],Zt={layoutMode:"big",textAlign:"left",fontWeight:"normal",showTitle:!0,showDesc:!1,showPrice:!0,showOrigin:!1,showBtn:!0,btnStyle:1,btnText:"立即购买",btnColor:"#FF5D0D",tabGroup:{exist:!1,theme:"light",tabs:["分组1","分组2"],products:[]},productNum:[1]};function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){(0,X.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wt={arrangeType:"p2",fontWeight:"normal",showTitle:!0,showPrice:!0,showOrigin:!1,showBtn:!0,btnStyle:1,btnText:"抢",btnColor:"#FF5D0D",tabGroup:{exist:!1,theme:"light",tabs:["分组1","分组2"],products:[]},productNum:[2]};function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach((function(t){(0,X.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kt={textAlign:"left",fontWeight:"normal",showTitle:!0,showPrice:!0,showOrigin:!1,tabGroup:{exist:!1,products:[]},productNum:4};function jt(e){var t=e.prop,n=void 0===t?"image":t,a=je(),o=(0,i.u2)();if(!a)return null;var l=[],c=a.props[n]||"";c&&(l=[{uid:-1,url:c}]);var u=[{render:function(){return r.createElement(r.Fragment,null,r.createElement(p.Z.Item,{className:"image-input"},r.createElement("div",{style:{fontSize:12,color:"#909399",margin:"4px 0 8px"}},"宽度750像素，高度180像素"),r.createElement(me,{data:{storeType:"I",type:"29",creator:"system"},action:"https://".concat(We(),"api.xxx.com/api/customer/v2/attach/upload4NoLogin"),fileList:l,showUploadList:!0,accept:"image/*",onFileListChange:function(e){var t=e.length?e[0].url:"";a.props[n]=t,o()}},(function(e,t){return t.length>0?null:r.createElement("div",{style:{fontSize:24,color:"#909399"}},e?r.createElement(tt.Z,null):r.createElement(nt.Z,null))}))))}}];return r.createElement(f.Z,{layoutData:u})}function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){(0,X.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){(0,X.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ft={arrangeType:4,fontWeight:"normal",tags:[]};const It={Flex:ke,Carousel:function(e){var t=e.selectedComponent,n=e.updateStore,a=p.Z.useForm(),o=(0,m.Z)(a,1)[0],l=[{label:"模块样式",type:I.ZP.Group,name:"styleType",elProps:{options:[{label:"卡片",value:"card"},{label:"通栏",value:"full"}],defaultValue:"card"}},{render:function(){return r.createElement(ee.Z,{style:{margin:"16px 0"}})}},{render:function(){return r.createElement(xe,{title:r.createElement("div",{className:"image-upload-title"},r.createElement("span",{className:"t"},"上传图片"),r.createElement("span",{className:"d"},"(宽1125像素，高412像素 大小不超过3M)"))})}},{render:function(){return r.createElement(ee.Z,{style:{margin:"16px 0"}})}},{render:function(){return r.createElement(pe,{selectedComponent:t,updateStore:n,placement:"bottom",defaultColor:"#fff"})}},{render:function(){return r.createElement(ee.Z,{style:{margin:"16px 0"}})}},{render:function(){return r.createElement(p.Z.Item,{name:"hideMargin",valuePropName:"checked",initialValue:!1},r.createElement(te.Z,null,"隐藏该模块下方的间隙"))}}];return r.createElement(p.Z,{form:o,onValuesChange:function(e){for(var r=0,a=Object.keys(e);r<a.length;r++){var o=a[r];t.props=Te(Te({},t.props),{},(0,X.Z)({},o,e[o]))}n()},layout:"horizontal"},r.createElement("div",{className:"item carousel-setting "},r.createElement(f.Z,{layoutData:l})))},Product:function(e){var t=e.selectedComponent,n=e.updateStore,a=p.Z.useForm(),o=(0,m.Z)(a,1)[0],l="simple"===t.props.layoutMode;(0,r.useEffect)((function(){t.props=ht(ht({},(0,yt.cloneDeep)(Zt)),t.props),n(),o.resetFields()}),[]);var c=[{render:function(){var e,a=null===(e=Et.find((function(e){var n;return e.value===(null===(n=t.props)||void 0===n?void 0:n.layoutMode)})))||void 0===e?void 0:e.title;return r.createElement(p.Z.Item,{label:r.createElement("div",{className:"layoutMode"},"排列样式",r.createElement("span",null,a)),name:"layoutMode"},r.createElement(I.ZP.Group,{options:Et,optionType:"button",onChange:function(e){"simple"===e.target.value&&(o.setFieldsValue({showDesc:!0}),t.props.showDesc=!0,n())}}))}},{render:function(){return r.createElement(ee.Z,{style:{margin:"16px 0"}})}},{render:function(){return"big"===t.props.layoutMode&&r.createElement(r.Fragment,null,r.createElement(p.Z.Item,{label:"对齐方式",name:"textAlign"},r.createElement(I.ZP.Group,{options:[{label:"居左",value:"left"},{label:"居中",value:"center"}]})),r.createElement(ee.Z,{style:{margin:"16px 0"}}))}},{type:I.ZP.Group,name:"fontWeight",label:"标题粗细",elProps:{options:[{label:"常规",value:"normal"},{label:"加粗",value:"bold"}]}},{render:function(){return r.createElement(ee.Z,{style:{margin:"16px 0"}})}},{render:function(){return r.createElement(dt,{selectedComponent:t,updateStore:n})}},{render:function(){return r.createElement(vt,{selectedComponent:t,updateStore:n})}},{render:function(){return r.createElement("div",{className:"group-name"},"内容控制")}},Ue("商品名称","showTitle",t),Ue("商品描述","showDesc",t),Ue("价格","showPrice",t,!l),Ue("原价","showOrigin",t,!l),Ue("按钮","showBtn",t),{render:function(){return r.createElement(gt,{selectedComponent:t,updateStore:n})}},{render:function(){return r.createElement("div",{style:{paddingTop:16}},r.createElement(pe,{selectedComponent:t,updateStore:n}))}}],i=ht(ht({},Zt),t.props),u=(0,r.useState)("0"),s=(0,m.Z)(u,2),d=s[0],v=s[1];return r.createElement("div",{className:"product-setting"},r.createElement(p.Z,{form:o,onValuesChange:function(e){for(var r=0,a=Object.keys(e);r<a.length;r++){var o=a[r];t.props=ht(ht({},t.props),{},(0,X.Z)({},o,e[o]))}n()},layout:"horizontal",initialValues:i},r.createElement(Ge,{type:d,setType:v,tabs:[{key:"0",name:"模块设置"},{key:"1",name:"商品管理"}]}),r.createElement("div",{className:"render-wraper"},"0"===d?r.createElement(f.Z,{layoutData:c}):r.createElement(mt,{selectedComponent:t,updateStore:n}))))},ProductMc:function(e){var t=e.selectedComponent,n=e.updateStore,a=p.Z.useForm(),o=(0,m.Z)(a,1)[0];(0,r.useEffect)((function(){t.props=Pt(Pt({},(0,yt.cloneDeep)(wt)),t.props),n(),o.resetFields()}),[]);var l=[{label:"排列样式",type:I.ZP.Group,name:"arrangeType",elProps:{optionType:"button",onChange:function(e){var r=e.target.value,a=t.props.productNum.slice(),o="p2"===r?2:3;a=a.map((function(e){return o})),t.props.productNum=a,t.props.arrageType=r,n()},options:[{label:r.createElement(D.Z,{type:"iconcommodity2a1"}),value:"p2"},{label:r.createElement(D.Z,{type:"iconcommodity2a2"}),value:"p3"}],defaultValue:"p2"}},{render:function(){return r.createElement(ee.Z,{style:{margin:"16px 0"}})}},{type:I.ZP.Group,label:"文本样式",name:"fontWeight",elProps:{options:[{label:"常规",value:"normal"},{label:"加粗",value:"bold"}]}},{render:function(){return r.createElement(ee.Z,{style:{margin:"16px 0"}})}},{render:function(){return r.createElement(dt,{selectedComponent:t,updateStore:n})}},{render:function(){return r.createElement(vt,{selectedComponent:t,updateStore:n})}},{render:function(){return r.createElement("div",{className:"group-name"},"内容控制")}},Ue("商品名称","showTitle",t),Ue("价格","showPrice",t),Ue("原价","showOrigin",t),Ue("按钮","showBtn",t),{render:function(){return r.createElement(gt,{selectedComponent:t,updateStore:n})}},{render:function(){return r.createElement("div",{style:{paddingTop:16}},r.createElement(pe,{selectedComponent:t,updateStore:n}))}}],c=Pt(Pt({},wt),t.props),i=(0,r.useState)("0"),u=(0,m.Z)(i,2),s=u[0],d=u[1];return r.createElement("div",{className:"product-setting"},r.createElement(p.Z,{form:o,onValuesChange:function(e){for(var r=0,a=Object.keys(e);r<a.length;r++){var o=a[r];t.props=Pt(Pt({},t.props),{},(0,X.Z)({},o,e[o]))}n()},layout:"horizontal",initialValues:c},r.createElement(Ge,{type:s,setType:d,tabs:[{key:"0",name:"模块设置"},{key:"1",name:"商品管理"}]}),r.createElement("div",{className:"render-wraper"},"0"===s?r.createElement(f.Z,{layoutData:l}):r.createElement(mt,{selectedComponent:t,updateStore:n}))))},ProductSl:function(e){var t=e.selectedComponent,n=e.updateStore,a=p.Z.useForm(),o=(0,m.Z)(a,1)[0];(0,r.useEffect)((function(){t.props=Ct(Ct({},(0,yt.cloneDeep)(kt)),t.props),n(),o.resetFields()}),[]);var l=[{type:ft.Z,label:"显示商品个数",name:"productNum",elProps:{style:{float:"right"},min:4,max:8}},{render:function(){return r.createElement(ee.Z,{style:{margin:"16px 0"}})}},{type:I.ZP.Group,label:"文本对齐",name:"textAlign",elProps:{options:[{label:"左对齐",value:"left"},{label:"居中对齐",value:"center",disabled:"small"===t.props.layoutMode}]}},{render:function(){return r.createElement(ee.Z,{style:{margin:"16px 0"}})}},{type:I.ZP.Group,label:"文本样式",name:"fontWeight",elProps:{options:[{label:"常规",value:"normal"},{label:"加粗",value:"bold"}]}},{render:function(){return r.createElement(ee.Z,{style:{margin:"16px 0"}})}},{render:function(){return r.createElement("div",{className:"group-name"},"内容控制")}},Ue("商品名称","showTitle",t),Ue("价格","showPrice",t),Ue("原价","showOrigin",t),{render:function(){return r.createElement(ee.Z,{style:{margin:" 0 0 16px"}})}},{render:function(){return r.createElement(pe,{selectedComponent:t,updateStore:n})}}],c=Ct(Ct({},kt),t.props),i=(0,r.useState)("0"),u=(0,m.Z)(i,2),s=u[0],d=u[1];return r.createElement("div",{className:"product-setting"},r.createElement(p.Z,{form:o,onValuesChange:function(e){for(var r=0,a=Object.keys(e);r<a.length;r++){var o=a[r];t.props=Ct(Ct({},t.props),{},(0,X.Z)({},o,e[o]))}n()},layout:"horizontal",initialValues:c},r.createElement(Ge,{type:s,setType:d,tabs:[{key:"0",name:"模块设置"},{key:"1",name:"商品管理"}]}),r.createElement("div",{className:"render-wraper"},"0"===s?r.createElement(f.Z,{layoutData:l}):r.createElement(mt,{selectedComponent:t,updateStore:n}))))},H5Header:function(e){var t=e.selectedComponent,n=e.updateStore,a=(0,r.useState)(!!t.props.bgImage),o=(0,m.Z)(a,2),l=o[0],c=o[1],i=[{render:function(){return r.createElement("div",{className:"my-switch"},r.createElement("label",null,"自定义背景图"),r.createElement("span",null,r.createElement(Le.Z,{checked:l,onChange:function(e){e||(t.props.bgImage="",n()),c(e)}})))}},{render:function(){return l?r.createElement(jt,{prop:"bgImage"}):null}}];return r.createElement("div",{className:"item h5-header-setting"},r.createElement(f.Z,{layoutData:i}))},Images:function(e){var t=e.selectedComponent,n=e.updateStore,a=p.Z.useForm(),o=(0,m.Z)(a,1)[0],l=t.props.images||[];(0,r.useEffect)((function(){o.resetFields()}),[o,t]);var c,i=[{label:"模块样式",type:I.ZP.Group,name:"styleType",elProps:{options:[{label:"卡片",value:"card"},{label:"通栏",value:"full"}],defaultValue:"card"}},{render:function(){return r.createElement(ee.Z,{style:{margin:"16px 0"}})}},{label:r.createElement("span",null,"排列样式",r.createElement("span",{style:{fontSize:14,color:"#18191a",fontWeight:"bold",marginLeft:8}},(c=t.props.arrangeType||"image1",we[c].name))),type:I.ZP.Group,name:"arrangeType",itemProps:{layout:"vertical",labelCol:{span:24}},elProps:{optionType:"button",onChange:function(e){t.props.images=l.slice(0,we[e.target.value].number),n()},options:[{label:r.createElement(D.Z,{type:"iconpicturea1"}),value:"image1"},{label:r.createElement(D.Z,{type:"iconpicturea2"}),value:"image2"},{label:r.createElement(D.Z,{type:"iconpicturea3"}),value:"image3"},{label:r.createElement(D.Z,{type:"iconpicturea4"}),value:"image31"},{label:r.createElement(D.Z,{type:"iconpicturea5"}),value:"image4"}],defaultValue:"image1"}},{render:function(){return r.createElement("div",{className:"upload-title"},"上传图片")}},{render:function(){var e=o.getFieldValue("arrangeType")||"image1",a=we[e].number||1,l="",c="",i="",u="",s="",m="",p="",d="";switch(e){case"image1":l="图片",s="(宽1125像素)";break;case"image2":l="图片1",c="图片2",s="(宽562像素)",m="(宽562像素)";break;case"image3":l="左图",c="右上图",i="右下图",s="(宽562像素)",m="(宽562像素，高为左图一半)",p="(宽562像素，高为左图一半)";break;case"image31":l="右图",c="左上图",i="左下图",s="(宽562像素)",m="(宽562像素，高为右图一半)",p="宽562像素，高为右图一半)";break;case"image4":l="图片1",c="图片2",i="图片3",u="图片4",s="(宽282像素)",m="(宽282像素)",p="(宽282像素)",d="(宽282像素)"}return r.createElement("div",null,r.createElement(Ne,{label:l,tip:s,index:0,selectedComponent:t,updateStore:n}),a>1?r.createElement(Ne,{label:c,tip:m,index:1,selectedComponent:t,updateStore:n}):null,a>2?r.createElement(Ne,{label:i,tip:p,index:2,selectedComponent:t,updateStore:n}):null,a>3?r.createElement(Ne,{label:u,tip:d,index:3,selectedComponent:t,updateStore:n}):null)}},{render:function(){return r.createElement(ee.Z,{style:{margin:"16px 0"}})}},{render:function(){return r.createElement(pe,{selectedComponent:t,updateStore:n,placement:"bottom",defaultColor:"#fff"})}},{render:function(){return r.createElement(ee.Z,{style:{margin:"16px 0"}})}},{render:function(){return r.createElement(p.Z.Item,{name:"hideMargin",valuePropName:"checked",initialValue:!1},r.createElement(te.Z,null,"隐藏该模块下方的间隙"))}}],u=Pe({},t.props);return r.createElement(p.Z,{form:o,onValuesChange:function(e){for(var r=0,a=Object.keys(e);r<a.length;r++){var o=a[r];t.props=Pe(Pe({},t.props),{},(0,X.Z)({},o,e[o]))}n()},initialValues:u,layout:"horizontal",className:"image-setting"},r.createElement("div",{className:"item"},r.createElement(f.Z,{layoutData:i})))},Space:Fe,SlideImage:function(e){var t=e.selectedComponent,n=e.updateStore,a=p.Z.useForm(),o=(0,m.Z)(a,1)[0],l=[{render:function(){return r.createElement(xe,{title:r.createElement("div",{className:"image-upload-title"},r.createElement("span",{className:"t"},"上传图片"),r.createElement("span",{className:"d"},"(宽300像素 大小不超过3M)"))})}},{render:function(){return r.createElement(ee.Z,{style:{margin:"16px 0"}})}},{render:function(){return r.createElement(pe,{selectedComponent:t,updateStore:n,placement:"bottom",defaultColor:"#fff"})}},{render:function(){return r.createElement(ee.Z,{style:{margin:"16px 0"}})}},{render:function(){return r.createElement(p.Z.Item,{name:"hideMargin",valuePropName:"checked",initialValue:!1},r.createElement(te.Z,null,"隐藏该模块下方的间隙"))}}],c=ze({},t.props);return r.createElement(p.Z,{form:o,onValuesChange:function(e){for(var r=0,a=Object.keys(e);r<a.length;r++){var o=a[r];t.props=ze(ze({},t.props),{},(0,X.Z)({},o,e[o]))}n()},layout:"horizontal",initialValues:c},r.createElement("div",{className:"item carousel-setting "},r.createElement(f.Z,{layoutData:l})))},Title:function(e){var t=e.selectedComponent,n=e.updateStore,a=p.Z.useForm(),o=(0,m.Z)(a,1)[0],l=(0,r.useState)(!!t.props.bgImage),c=(0,m.Z)(l,2),i=c[0],u=c[1],s=[{label:"标题内容",name:"text",type:ne.Z.TextArea,elProps:{maxLength:10,showCount:!0,autoSize:{minRows:1,maxRows:1},defaultValue:"标题"}},{render:function(){return r.createElement(ee.Z,{style:{margin:"16px 0"}})}},{label:"对齐方式",name:"textAlign",type:I.ZP.Group,elProps:{options:[{label:"居左对齐",value:"left"},{label:"居中对齐",value:"center"}],defaultValue:"left"}},{render:function(){return r.createElement(ee.Z,{style:{margin:"16px 0"}})}},{label:"标题粗细",name:"fontWeight",type:I.ZP.Group,elProps:{options:[{label:"标准",value:"normal"},{label:"加粗",value:"bold"}],defaultValue:"normal"}},{render:function(){return r.createElement(ee.Z,{style:{margin:"16px 0"}})}},{label:"字体大小",name:"fontSize",type:I.ZP.Group,elProps:{options:[{label:"小",value:14},{label:"中",value:15},{label:"大",value:17}],defaultValue:14}},{render:function(){return r.createElement(ee.Z,{style:{margin:"16px 0"}})}},{render:function(){return r.createElement("div",{className:"my-switch",style:{marginTop:"16px 0"}},r.createElement("label",null,"跳转详情"),r.createElement("span",null,r.createElement(Le.Z,{checked:i,onChange:function(e){e||(t.props.link="",o.setFieldsValue({link:""}),n()),u(e)},size:"small"})))}},{render:function(){return i?r.createElement("div",{style:{padding:"12px 12px 16px",margin:"12px -12px -16px",background:"#F0F0F0"}},r.createElement(p.Z.Item,{name:"link"},r.createElement(ne.Z,null)),r.createElement(pe,{label:"自定义箭头颜色",prop:"arrowColor",selectedComponent:t,updateStore:n,defaultColor:"#8C8C8C"})):null}},{render:function(){return r.createElement(ee.Z,{style:{margin:"16px 0"}})}},{render:function(){return r.createElement(pe,{label:"自定义标题颜色",prop:"color",selectedComponent:t,updateStore:n,defaultColor:"#000"})}},{render:function(){return r.createElement(ee.Z,{style:{margin:"16px 0"}})}},{render:function(){return r.createElement(pe,{selectedComponent:t,updateStore:n,defaultColor:"#fff"})}}],d=xt({},t.props);return r.createElement(p.Z,{form:o,onValuesChange:function(e){for(var r=0,a=Object.keys(e);r<a.length;r++){var o=a[r];t.props=xt(xt({},t.props),{},(0,X.Z)({},o,e[o]))}n()},layout:"vertical",initialValues:d},r.createElement("div",{className:"item title-setting "},r.createElement(f.Z,{layoutData:s})))},QuickEntry:function(e){var t=e.selectedComponent,n=e.updateStore,a=p.Z.useForm(),o=(0,m.Z)(a,1)[0],l=(0,r.useState)([]),c=(0,m.Z)(l,2),i=c[0],u=c[1];(0,r.useEffect)((function(){t.props=Tt(Tt({},(0,yt.cloneDeep)(Ft)),t.props),n(),o.resetFields()}),[]),(0,r.useEffect)((function(){Qe("/api/sec/v2/auth/tag/list").then(Ye).then((function(e){var t=e.result;u((void 0===t?[]:t).map((function(e){return{label:e,value:e}})))}))}),[]);var s=[{type:I.ZP.Group,label:"排列方式",name:"arrangeType",elProps:{options:[{label:"一行四个",value:4},{label:"一行五个",value:5}]}},{render:function(){return r.createElement(ee.Z,{style:{margin:"16px 0"}})}},{type:I.ZP.Group,label:"文本样式",name:"fontWeight",elProps:{options:[{label:"标准",value:"normal"},{label:"加粗",value:"bold"}]}},{render:function(){return r.createElement(ee.Z,{style:{margin:"16px 0"}})}},{render:function(){return r.createElement("div",{className:"group-name"},"内容控制")}},{type:Ce.Z,name:"tags",elProps:{mode:"multiple",allowClear:!1,placeholder:"请选择应用",options:i}}],d=Tt(Tt({},Ft),t.props);return r.createElement("div",{className:"quick-entry-setting"},r.createElement(p.Z,{form:o,onValuesChange:function(e){for(var r=0,a=Object.keys(e);r<a.length;r++){var o=a[r];t.props=Tt(Tt({},t.props),{},(0,X.Z)({},o,e[o]))}n()},layout:"horizontal",initialValues:d},r.createElement("div",{className:"item"},r.createElement(f.Z,{layoutData:s}))))}};var zt=n(8710);function Lt(e){var t=e.images,n=void 0===t?[]:t,a=e.hideMargin,o=void 0!==a&&a,l=e.bgColor;return r.createElement(zt.Z,{style:{height:100,paddingBottom:"".concat(o?0:5,"px"),backgroundColor:l}},r.createElement(S.Z,{size:9},n.length?n.map((function(e,t){return r.createElement("img",{src:e.url,key:t,className:"img",style:{width:100}})})):[1,2,3,4,5,6,7].map((function(e,t){return r.createElement(_,{width:100,height:100})}))))}function Ut(e){var t=e.text,n=void 0===t?"标题":t,a=e.bgColor,o=e.color,l=void 0===o?"":o,c=e.fontSize,i=void 0===c?14:c,u=e.arrowColor,s=e.textAlign,m=void 0===s?"left":s,p=e.fontWeight,d=void 0===p?"":p,f=e.link,v=void 0===f?"":f;return r.createElement("div",{className:"zfl-title",style:{backgroundColor:a,color:l,fontWeight:d,textAlign:m,fontSize:i}},r.createElement("span",{className:"text"},n),v?r.createElement("span",{className:"arrow",style:{color:u||"#8c8c8c"}},r.createElement(D.Z,{type:"icondown"})):null)}function Gt(e){var t=e.arrangeType,n=void 0===t?4:t,a=e.fontWeight,o=void 0===a?"normal":a,l=e.tags,c=void 0===l?[]:l,i=(0,r.useState)([]),u=(0,m.Z)(i,2),s=u[0],p=u[1];(0,r.useEffect)((function(){var e;c.length?(e=c.join(","),Qe("/api/sec/v2/auth/tag/function/info",{tag:e})).then((function(e){var t=e.result,n=(void 0===t?{}:t).functionVOs;p((void 0===n?[]:n).map((function(e){return{funTitle:e.funTitle,funLogo:e.funLogo,funUrl:e.funUrl}})))})):p(JSON.parse('[{"funTitle":"示例","funLogo":"https://image.zuifuli.com/17/20190826/8827caceaf4e36c18176494cd263b711.png","funUrl":"https://www.baidu.com"},{"funTitle":"示例","funLogo":"https://image.zuifuli.com/17/20171130/menu_icon_fuyuanwai@3x.png","funUrl":"https://t-h5.zuifuli.com/fyw/introduce"},{"funTitle":"示例","funLogo":"https://image.zuifuli.com/17/20190826/3dcd553e027ecb94dc51cff8ddc9397c.png","funUrl":"https://wx.tuhu.cn/vue/NaActivity/pages/home/index?id=CE39B089&venderId=thirdpart_zzfl_18"},{"funTitle":"示例","funLogo":"https://image.zuifuli.com/17/20190826/00c81cf4582d57d55812a69cd2703d02.png","funUrl":"icare://other/phoneprepaid"},{"funTitle":"示例","funLogo":"https://image.zuifuli.com/17/20190826/49b3eb8a4ef80cd8efff3e615671a154.png","funUrl":"https://t-open.zuifuli.com/v1/app/launch?appCode=adminService&channelCode=hangzhou&redirect=/tele/hysdh.html#/index"},{"funTitle":"示例","funLogo":"https://image.zuifuli.com/17/20171130/bla@3x.png","funUrl":"https://t-api.zuifuli.com/api/open/v1/bla/new/launch?redirectUrl=https://t.youshr.com/activity.html"},{"funTitle":"示例","funLogo":"https://image.zuifuli.com/17/20190821/baa3d6ec5d22f4242dedb6e27e8f1942.png","funUrl":"icare://message/list?code=GROUP_CODE_CARD"},{"funTitle":"示例","funLogo":"https://image.zuifuli.com/17/20190826/afac1cb1c73c46ab2bb64a18013aee6a.png","funUrl":"https://t-h5.zuifuli.com/menupub/recharge"},{"funTitle":"示例","funLogo":"https://image.zuifuli.com/17/20190826/408c3f8aafe7fa39354d865df6841dff.png","funUrl":"https://t-mall.zuifuli.com/m/jd"},{"funTitle":"示例","funLogo":"https://image.zuifuli.com/17/20190826/e3aa9ed7238141eaebe957a7be698b51.png","funUrl":"icare://zoom/meeting/action/show/home"},{"funTitle":"示例","funLogo":"https://image.zuifuli.com/17/20190826/4d7ec08d188c9ab0e7db725472e3064b.png","funUrl":"https://t-mall.zuifuli.com/m/zy"}]'))}),[c]);var d=2*n;return r.createElement(G.Z,{height:160,swipeable:!0,className:"ctl-carousel",showPagination:s.length>d},function(){var e=2*n,t=[],a=s.slice();do{if(a.length>e){var l=a.slice(0,e);t.push(l),a.splice(0,l.length)}else t.push(a),a=[]}while(a.length);return t.length?t.map((function(e,t){return r.createElement("div",{key:t},(a=e,r.createElement("div",{className:"quick-entry"},a.map((function(e,t){return r.createElement("div",{className:"entry-item ".concat(o),style:{width:"".concat(100/n,"%"),marginTop:t<n?0:20},key:t},r.createElement("img",{src:e.funLogo,alt:e.funTitle}),e.funTitle)})))));var a})):null}())}var _t=[{cid:"Carousel",type:M,name:"轮播Banner",icon:"iconbanner",setting:It.Carousel,order:100},{cid:"Images",type:W,name:"图片",icon:"iconpictureline",setting:It.Images,order:100},{cid:"Space",type:Y,name:"间隔模块",icon:"icondivide",setting:It.Space,order:100},{cid:"SlideImage",type:Lt,name:"横滑图片",icon:"iconpicture2",setting:It.SlideImage,order:100},{cid:"Title",type:Ut,name:"标题模块",icon:"icontitle",setting:It.Title,order:100}],At=[{cid:"Product",type:H,name:"单列商品",icon:"iconcommodity1",setting:It.Product,order:100},{cid:"ProductMc",type:J,name:"多列商品",icon:"iconcommodity2",setting:It.ProductMc,order:100},{cid:"ProductSl",type:Q,name:"横滑商品",icon:"iconcommodity3",setting:It.ProductSl,order:100}],Vt=[{cid:"QuickEntry",type:Gt,name:"快速入口",icon:"iconquick",setting:It.QuickEntry,order:100,h:160}],Rt=[].concat(_t,At,Vt),Mt=function(e){return Rt.find((function(t){return t.cid===e}))},Wt=n(5443);function Bt(){var e=(0,i.Ov)(),t=(0,i.u2)(),n=(0,r.useRef)(null),a=e.tplList,o=void 0===a?[]:a;return(0,r.useEffect)((function(){e.tplList=w(),t()}),[]),et(n,{sort:!1,group:{name:"cmp",pull:"clone"}}),r.createElement("ul",{ref:n,className:"tpl-select-list"},o.map((function(n,a){var o=Mt(n.cid)||{};return r.createElement("li",{key:a,"data-cid":n.cid,"data-tpl":n.tpl,className:"cmp panel-cmp"},r.createElement(L,{iconName:o.icon,label:r.createElement("div",{className:"text",title:n.name},r.createElement("div",null,n.name)),type:"tpl",deleteNode:r.createElement(Wt.Z,{title:"确定删除此组件？",onConfirm:function(){var r,a;r=n.tplId,a=(a=w()).filter((function(e){return e.tplId!==r})),N(a),e.tplList=w(),t(),b("删除成功")},okText:"确定",cancelText:"取消"},r.createElement(D.Z,{type:"icondelete",className:"anticon-delete"}))}))})))}var Ht=n(6010),qt=n(8672);const Jt=function(){(0,i.Ov)();var e=(0,r.useState)("0"),t=(0,m.Z)(e,2),n=t[0],a=t[1],o=(0,r.useState)([0,1,2]),l=(0,m.Z)(o,2),c=l[0],u=l[1],s=[{title:r.createElement("span",null,r.createElement(D.Z,{type:"iconarrow_down_outlined_regular",className:"icon"})," 图文模块"),components:_t},{title:r.createElement("span",null,r.createElement(D.Z,{type:"iconarrow_down_outlined_regular",className:"icon"})," 商品模块"),components:At},{title:r.createElement("span",null,r.createElement(D.Z,{type:"iconarrow_down_outlined_regular",className:"icon"})," 定制模块"),components:Vt}];return r.createElement("div",{className:"component-panel"},r.createElement("div",{className:"type-select"},r.createElement(I.ZP.Group,{value:n,onChange:function(e){a(e.target.value)}},r.createElement(I.ZP.Button,{value:"0",style:{width:86,textAlign:"center"}},"组件"),r.createElement(I.ZP.Button,{value:"1"},"我的组件"))),r.createElement(qt.Z,null,r.createElement("div",{className:"select-list"},"0"==n?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e,t){return r.createElement("div",{key:t,className:"type-data"},r.createElement("div",{onClick:function(){var e=c.indexOf(t);e>-1?(c.splice(e,1),u((0,F.Z)(c))):u([].concat((0,F.Z)(c),[t]))},className:(0,Ht.Z)("type-title",{active:c.includes(t)})},e.title),r.createElement("div",{className:(0,Ht.Z)("type-list",{hide:!c.includes(t)})},r.createElement(U,{components:e.components})))}))}(s):r.createElement(Bt,null))))};function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(n),!0).forEach((function(t){(0,X.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const $t=function(e){var t=e.item,n=void 0===t?{}:t,a=e.isDesign,o=void 0!==a&&a,l=e.onRemove,c=(0,i.Ov)(),u=n.comps,s=void 0===u?[]:u;if(!s.length)return null;var m=function(e){var t=e.type;t||(t=Mt(e.cid).type);var n=!e.tpl&&o;return r.createElement(t,Qt(Qt({},e.props),{},{style:e.style,isDesign:n,item:e}))};return s.map((function(e){var t=Mt(e.cid)||{},n=t.isConfig,a=void 0!==n&&n;return o?r.createElement("div",{className:(0,Ht.Z)({"design-cmp":!0,"config-cmp":a,active:e.id===c.activeComp}),style:{height:t.h||"auto"},"data-id":e.id,key:e.id},m(e),a?null:r.createElement("div",{className:"del"},r.createElement(D.Z,{type:"icondelete",onClick:function(){return l(e.id)}}))):m(e)}))};function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach((function(t){(0,X.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const en=function(e){var t=e.item,n=void 0===t?{}:t,a=e.isDesign,o=void 0!==a&&a,l=e.style,c=void 0===l?{}:l,u=(0,r.useRef)(null),s=n.comps||[],m=null,p=(0,i.Ov)(),d=(0,i.u2)(),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n.comps=e,d({activeComp:t})};return(0,r.useEffect)((function(){if(o){var e=z.ZP.create(u.current,{filter:".config-cmp",group:{name:ge(),put:["cmp"]},onAdd:function(e){var t=e.item.dataset.cid,n=e.item.dataset.tpl||"";e.item.style.display="none";var r=Mt(t);r.isConfig&&p.comps.find((function(e){return e.cid===t}))?g.ZP.error("最多只能放一个"+r.name):m={cid:t,index:e.newIndex,dom:e.item,tpl:n}},store:{set:function(e){var t=null;if(m){var n=m,r=n.index,a=n.dom,o=n.cid,l=n.tpl;a.remove();var c=Mt(o);if(!c)return void console.error("".concat(o," is not valid component"));var i,u=c.order,p=c.setting||{},d=p.props,v=void 0===d?{}:d,g=p.style,y=void 0===g?{}:g,b=be(v),h=be(y),E="string"==typeof l&&l.length>=2;t=[o,"-",ge()].join(""),E?(i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return t;try{return JSON.parse(e)}catch(e){return t}}(l)).id=t:i={cid:o,order:u,id:t,props:Xt({},b),style:Xt({},h)},0==r?s.unshift(i):r===s.length?s.push(i):s.splice(r,0,i),m=null}else{var Z=e.toArray();s.sort((function(e,t){return e.order!=t.order?e.order-t.order:Z.indexOf(e.id)-Z.indexOf(t.id)})),e.sort(s.map((function(e){return e.id})))}f(s,t)}}});return function(){e.destroy()}}}),[s,f,o]),(0,r.useEffect)((function(){var e=function(e){if(e.stopPropagation(),e.target!==u.current){var t=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"design-cmp",n=e;n&&!n.classList.contains(t);)n=n.parentElement;if(n)return n.dataset.id}(e.target);t&&d({activeComp:t})}else d({activeComp:null})};return window.addEventListener("click",e),function(){window.removeEventListener("click",e),d({activeComp:null})}}),[]),r.createElement("div",{style:Xt({},c),ref:u,"data-type":"container"},r.createElement($t,{isDesign:o,onRemove:o?function(e){s=s.filter((function(t){return t.id!==e})),f(s)}:null,item:n}))};function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(n),!0).forEach((function(t){(0,X.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const rn=function(){var e=(0,i.Ov)(),t=e.bgColor,n=(0,i.u2)(),a={};return t&&(a.backgroundColor=t),(0,r.useEffect)((function(){n((0,O.Yu)("localStorage",C))}),[]),r.createElement("div",{className:"editor-stage"},r.createElement(en,{item:e,isDesign:!0,style:nn({minHeight:724,width:379},a)}))};var an=n(5816),on=[{type:ne.Z,label:"模板名称",placeholder:"请输入",rules:[{required:!0,message:"请填写模板名称"}],name:"name"}];function ln(e){var t=e.updateStore,n=e.comp,a=p.Z.useForm(),o=(0,m.Z)(a,1)[0],l=(0,i.Ov)(),c=Mt(n.cid).isConfig,u=void 0!==c&&c;return r.createElement(r.Fragment,null,r.createElement(d.Z,{title:"保存至我的模版",visible:l.showTplDlg,onCancel:function(){t({showTplDlg:!1})},onOk:function(){return o.submit()}},r.createElement(p.Z,{form:o,onFinish:function(e){var r,a,c=e.name,i=void 0===c?"":c;r={tpl:JSON.stringify(n),cid:n.cid,name:i,tplId:ge()},(a=w()).push(r),N(a),l.tplList=w(),t({showTplDlg:!1}),o.resetFields(),g.ZP.success("保存成功")},layout:"vertical"},r.createElement(f.Z,{layoutData:on}))),u?null:r.createElement("span",{className:"save-cTpl",onClick:function(){return t({showTplDlg:!0})}},"保存至我的模版"))}function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(n),!0).forEach((function(t){(0,X.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}an.Z.TabPane;const sn=function(){var e=p.Z.useForm(),t=(0,m.Z)(e,1)[0],n=je(),a=((0,i.Ov)(),(0,i.u2)()),o=(0,r.useState)("0"),l=(0,m.Z)(o,2),c=(l[0],l[1]),u=(0,r.useState)(!1),s=(0,m.Z)(u,2),d=(s[0],s[1]),v=(0,r.useState)(!1),g=(0,m.Z)(v,2),y=(g[0],g[1]),b={};if((0,r.useEffect)((function(){if(n){t.resetFields();var e=n.cid,r=(b=Mt(e)).setting||{},a=r.style,o=void 0===a?{}:a,l=r.props,i=void 0===l?{}:l,u=Object.keys(o).length,s=Object.keys(i).length;d(s),y(u),c(s?"0":u?"1":"0")}}),[n]),!n)return r.createElement("div",{className:"prop-setting hide"});var h,E=un(un({},n.props),n.style),Z=n.cid,O=(b=Mt(Z)).setting||{},P=O.props,w=void 0===P?{}:P,N=O.style,C=void 0===N?{}:N,k=Object.keys(w),j=Object.keys(C),S=[],x=[];return k.map((function(e){S.push(un({name:e},w[e]))})),j.map((function(e){x.push(un({name:e},C[e]))})),r.createElement("div",{className:"prop-setting"},r.createElement("div",{className:"title"},b.name,r.createElement(ln,{updateStore:a,comp:n})),r.createElement("div",{className:"setting"},"function"==typeof(h=b.setting)?r.createElement(h,{key:n.id,selectedComponent:n,updateStore:a}):r.createElement(p.Z,{form:t,onValuesChange:function(e){for(var t,r=0,o=Object.keys(e);r<o.length;r++){var l=o[r];t=e[l],k.includes(l)?n.props=un(un({},n.props),{},(0,X.Z)({},l,t)):n.style=un(un({},n.style),{},(0,X.Z)({},l,t))}a()},layout:"vertical",initialValues:E},r.createElement("div",{className:"item"},r.createElement(f.Z,{layoutData:S}),r.createElement(f.Z,{layoutData:x})))))},mn={Carousel:M,Images:W,Product:H,ProductMc:J,ProductSl:Q,H5Header:function(e){var t=e.bgImage,n=e.hasSearchBar,a=void 0===n||n,o=e.isShowMoney,l=void 0===o||o;return t=t||"https://static.xxx.com/images/make/header_img.png",r.createElement("div",{className:"home-page",style:{backgroundImage:"url(".concat(t,")")}},r.createElement("div",{className:"sig"}),r.createElement("section",{className:"main"},r.createElement("div",{className:"mian-wrapper"},r.createElement("div",{className:"main-content"},r.createElement("span",null,a?r.createElement("div",{className:"comp-app-search-ctrl main-search"},r.createElement("div",{className:"search-group"},r.createElement("i",{className:"iconfont iconfont-OAsousuo_20_15px theme-default search-icon"}),r.createElement("span",{className:"search-placeholder"},"搜索")),r.createElement("div",{className:"scan"})):null,l?r.createElement("div",{className:"money"},r.createElement("div",{className:"amount"},r.createElement("span",{className:"num"},"524,055"),r.createElement("span",null,"积分"),r.createElement("span",null),r.createElement("i",{className:"iconfont iconfont-kejian_32px theme-default icon"}))):null)))))},Space:Y,SlideImage:Lt,Title:Ut,QuickEntry:Gt};function pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(n),!0).forEach((function(t){(0,X.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vn=function(e){var t=e.cid,n=e.props,a=void 0===n?{}:n,o=e.style,l=void 0===o?{}:o,c=e.id,i=dn(dn({},a),{},{style:l,key:c},function(e){var t={},n=Object.keys(e.props||{}).filter((function(e){return e.startsWith("on")}));if(n.length){var r,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return fn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(e.props[o])try{t[o]=new Function("e",e.props[o])}catch(e){}}}catch(e){a.e(e)}finally{a.f()}}return t}(e)),u=mn[t]||("Flex"===t?gn:null);return u===gn&&(i.data=e),u?r.createElement(u,i):null},gn=function(e){var t=e.data,n=void 0===t?{}:t;if("string"==typeof n)try{n=JSON.parse(n)}catch(e){}var a=n,o=a.comps,l=void 0===o?[]:o,c=a.cid,i=a.style,u=void 0===i?{}:i;return l.length?"Flex"===c?r.createElement("div",{style:u},l.map(vn)):l.map(vn):null};const yn=gn;var bn=n(4549),hn=n(5099);function En(e){var t=e.children,n=e.visible,a=e.onClose,o=(0,r.useRef)(),l=(0,i.Ov)().bgColor,c={};return l&&(c.backgroundColor=l),r.createElement(hn.Z,{ref:o},r.createElement("div",{className:"preview ".concat(n?"":"hide")},r.createElement(bn.Z,{className:"close",onClick:a}),r.createElement("div",{className:"screen",style:c},t)))}function Zn(){var e=(0,i.Ov)(),t=p.Z.useForm(),n=((0,m.Z)(t,1)[0],(0,i.u2)()),a=function(){n({showSaveDlg:!1}),k({bgColor:e.bgColor,comps:e.comps}),g.ZP.success("保存成功")};return r.createElement(r.Fragment,null,r.createElement("div",{className:"footer"},r.createElement("div",{className:"content"},r.createElement(Xe.Z,null,r.createElement(Wt.Z,{title:"确定要发布此页面吗？",onConfirm:function(){a()},okText:"确定",cancelText:"取消"},r.createElement(E.Z,{type:"primary"},"发布")),r.createElement(E.Z,{type:"default",onClick:a},"保存"),r.createElement(E.Z,{type:"default",onClick:function(){n({preview:!0})}},"预览"),r.createElement(E.Z,{type:"default",danger:!0,onClick:function(){n({comps:[],activeComp:null})}},"清空")))),r.createElement(En,{visible:e.preview,onClose:function(){return n({preview:!1})}},r.createElement(yn,{data:e})))}function On(){var e;return e="运营自定义装修平台",(0,r.useEffect)((function(){document.title=e}),[e]),r.createElement("div",{className:"page-app"},r.createElement(T,null),r.createElement("div",{className:"section"},r.createElement(Jt,null),r.createElement(rn,null),r.createElement(sn,null)),r.createElement(Zn,null))}const Pn=[{path:"/",exact:!0,component:On}];var wn=(0,i.xC)(null,!0);const Nn=function(){return r.createElement(i.zt,{store:wn},r.createElement(o.ZP,{locale:c.Z},r.createElement(u.UT,null,r.createElement(r.Suspense,{fallback:r.createElement(l.Z,null)},r.createElement(s.rs,null,Pn.map((function(e,t){return r.createElement(s.AW,{key:t,path:e.path,exact:e.exact,component:e.component})})),r.createElement(s.AW,{component:On}))))))};D.Z.loadFromIconfontCN("//at.alicdn.com/t/c/font_2398464_xxpb9pb5xis.js"),a.render(r.createElement(Nn,null),document.getElementById("root"))},4654:()=>{}},e=>{e.O(0,[736],(()=>(7682,e(e.s=7682)))),e.O()}]);